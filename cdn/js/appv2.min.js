var lApp={jQuery:null,translation:{translationKeyNotSupported:'translation.{0}: "{1}" is not supported',configKeyNotSupported:'config.{0}: "{1}" is not supported',controllerActionNotExist:"Action {0} in Controller {1} not exist",viewActionNotExist:"Action {0} in View {1} not exist",noInternetConnection:"Your are not Connected to the Internet",googleChartGIdNotExist:"googleChart.{0}: gId {1} not exist"},config:{version:"v3.0.0",debug:!1,chartJS:"",runCallback:"runCallback",userFullname:"My name",userEmail:"my@email.com",userDevice:"desktop",userSettings:{},defaultAjaxData:{},postData:{},decimals:2,decimalPoint:".",thousandsSeparator:",",symbolCurrency:"$",dateFormat:"{2}-{1}-{0}",datetimeFormat:"{2}-{1}-{0} {3}:{4}:{5}",monthAbbreviations:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]},model:{args:void 0,loaders:void 0,filters:void 0,parentCallback:!0,listen:void 0},script:{},lClass:{},lService:{},lController:{},view:{},autoIncrement:0,getAutoIncrement:function(){return lApp.autoIncrement++},setTranslations:function(t){this.jQuery.each(t,function(t,i){void 0!==lApp.translation[t]?lApp.translation[t]=i:lApp.log(lApp.format(lApp.translation.translationKeyNotSupported,[t,i]))})},setConfiguration:function(t){this.jQuery.each(t,function(t,i){void 0!==lApp.config[t]?lApp.config[t]=i:lApp.log(lApp.format(lApp.translation.configKeyNotSupported,[t,i]))})},log:function(t,i){var o=void 0!==i?i:this.config.debug;window.console&&o&&console.log(t)},log:function(){void 0!==top.console&&top.console.log.apply(top.console,arguments)},error:function(t,i){var o=void 0!==i?i:this.config.debug;window.console&&o&&console.error(t)},debug:function(t,i){this.config.debug&&this.log(t,this.config.debug)},format:function(t,o){return void 0!==o&&this.jQuery.isArray(o)?t.replace(/{(\d+)}/g,function(t,i){return void 0!==o[i]?o[i]:t}):t},getAjaxData:function(t){return this.jQuery.extend(!0,t,this.config.defaultAjaxData),t},getArgs:function(){if(void 0===this.model.args){var t={};t=this.getGETArgs(t),t=this.getPOSTArgs(t),this.model.args=t}return this.model.args},getGETArgs:function(t){for(var i=window.location.search.substring(1).split("&"),o=0;o<i.length;o++){var e=i[o].split("=");void 0!==e[0]&&""!==e[0]&&(t[decodeURIComponent(e[0])]=void 0!==e[1]?decodeURIComponent(e[1]):"")}return t},getPOSTArgs:function(o){return this.jQuery.each(this.config.postData,function(t,i){o[decodeURIComponent(t)]=decodeURIComponent(i)}),o},setArgs:function(t){var o=this.model.args;this.jQuery.each(t,function(t,i){o[t]=i}),this.model.args=o},createURLWithArgs:function(t,i){var o=t,e=[];return this.jQuery.each(i,function(t,i){e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}),o+=0<e.length?"?"+e.join("&"):""},parent:function(){var t=void 0;if(window!==window.parent)if(void 0!==window.parent.lApp)t=window.parent.lApp;else for(var i=window.parent.document.getElementsByTagName("iframe"),o=0;o<i.length&&i[o].contentWindow!==window;o++)void 0!==i[o].contentWindow.lApp&&(t=i[o].contentWindow.lApp);return t},clone:function(t){return this.jQuery.extend(!0,{},t)},init:function(){if(void 0===this.script.chartJS)return this.ajaxScript("chartJS",this.config.chartJS,function(t){google.charts.load("current",{packages:["corechart","table"]}),google.charts.setOnLoadCallback(function(){lApp.init()})},function(t,i){404===i.status&&alert(t.translation.noInternetConnection)}),!1;this.debug("init"),this.listen(),this.run()},run:function(){this.debug("run"),this.config.runCallback(this)},listen:function(){this.model.listen={content:{marginBottom:this.isIE()?3:2},headFixed:{active:!1,scrollTop:0},footFixed:{active:!1,scrollTop:0},resize:{active:!0,timeout:void 0,width:void 0}}},isMobile:function(){return"mobile"===this.config.userDevice},isTablet:function(){return"tablet"===this.config.userDevice},isDesktop:function(){return"desktop"===this.config.userDevice},getIEVersion:function(){var t=window.navigator.userAgent,i=0,o=t.indexOf("MSIE "),e=t.indexOf("Trident/"),n=t.indexOf("Edge/");if(0<o)i=parseInt(t.substring(o+5,t.indexOf(".",o)),10);else if(0<e){var r=t.indexOf("rv:");i=parseInt(t.substring(r+3,t.indexOf(".",r)),10)}else 0<n&&(i=parseInt(t.substring(n+5,t.indexOf(".",n)),10));return this.debug("IE:"+i),i},isIE:function(){return 0<this.getIEVersion()},addController:function(e){return this.lController[e]={name:e,actions:[],addAction:function(t,i){this.actions[t]=i},callAction:function(t){return this.actions[t]},doAction:function(t,i,o){return void 0!==this.actions[i]?this.actions[i](t,o):(t.log(t.format(t.translation.controllerActionNotExist,[i,e])),!1)}}},callController:function(t,i){return this.debug("callController: "+t+"."+i),this.lController[t].callAction(i)},doController:function(t,i,o){return this.debug("doController: "+t+"."+i),this.lController[t].doAction(this,i,o)},addView:function(e){return this.view[e]={name:e,actions:[],addAction:function(t,i){this.actions[t]=i},doAction:function(t,i,o){return void 0!==this.actions[i]?this.actions[i](t,o):(t.log(t.format(t.translation.viewActionNotExistthi,[i,e])),!1)}}},doView:function(t,i,o){return this.debug("doView: "+t+"."+i),this.view[t].doAction(this,i,o)},addService:function(t,i){this.lService[t]=i},doService:function(t,i,o){this.lService[t](this,i,o)},addClass:function(t,i){this.lClass[t]=i},newClass:function(t,i){return new this.lClass[t](this,i)},addUtil:function(t,i){this.addClass("util."+t,i)},newUtil:function(t,i){return this.newClass("util."+t,i)},addModel:function(t,i){this.addClass("model."+t,i)},newModel:function(t,i){return this.newClass("model."+t,i)},loading:function(t,i){var o=!0;void 0===this.model.loaders&&(this.model.loaders={}),this.model.loaders[t]=i,$.each(this.model.loaders,function(t,i){if(!0===i)return o=!1}),o?this.stopLoading():this.startLoading()},isLoading:function(t){return void 0!==this.model.loaders&&void 0!==this.model.loaders[t]&&this.model.loaders[t]},isLoaded:function(t){return void 0!==this.model.loaders&&void 0!==this.model.loaders[t]&&!1===this.model.loaders[t]},resetLoaders:function(){this.model.loaders=void 0},startLoading:function(){this.debug("startLoading")},stopLoading:function(){this.debug("stopLoading")}};lApp.hook={hooks:[],register:function(t,i){void 0===this.hooks[t]&&(this.hooks[t]=[]),this.hooks[t].push(i)},call:function(t){var i=Array.prototype.slice.call(arguments,1);if(void 0!==this.hooks[t])for(var o=0;o<this.hooks[t].length&&!1!==this.hooks[t][o].apply(this,i);o++);},apply:function(t,i){var o=Array.prototype.slice.call(arguments,1);if(void 0!==this.hooks[t])for(var e=0;e<this.hooks[t].length;e++){o[0]=i;var n=this.hooks[t][e].apply(this,o);if(!1===n)break;void 0!==n&&(i=n)}return i}},lApp.ajaxJson=function(t,i,o,e){var n=this;this.jQuery.ajax({method:"GET",url:t,data:this.getAjaxData(i),cache:!1,dataType:"json"}).done(function(t){o(n,t)}).fail(function(t){e(n,t)})},lApp.ajaxPostJson=function(t,i,o){this.jQuery.ajax({method:"POST",url:t,data:this.getAjaxData(i),cache:!1,dataType:"json"}).done(function(t){o(lApp,t)}).fail(function(t){failFunction(app,t)})},lApp.ajaxScript=function(t,i,o,e){void 0===this.script[t]?this.jQuery.ajax({url:i,dataType:"script",cache:!0}).done(function(){lApp.script[t]=i,o(lApp)}).fail(function(t){void 0!==e&&e(lApp,t),lApp.log("Error.ajaxScript with URL:"+i)}):o(this)},lApp.addController("home").addAction("load",function(t,i){t.view.result=i.restaurants,t.view.orderOptions=i.orderOptions}),lApp.addUtil("array",function(t,i){this.setArray=function(t){this.array=t},this.findObjectByAttribute=function(t,i){for(var o=0;o<this.array.length;o++){var e=this.array[o];if(e[t]==i)return e}},this.array=void 0!==i.array?this.setArray(i.array):[]}),lApp.addUtil("calendar",function(t,i){this.parseDate=function(t){var i=t.split(" "),o=i[0].split("-"),e=parseInt(o[0]),n=parseInt(o[1])-1,r=parseInt(o[2]);if(void 0!==i[1]){var a=i[1].split(":"),s=parseInt(a[0]),l=parseInt(a[1]),c=parseInt(a[2]);return new Date(e,n,r,s,l,c)}return new Date(e,n,r)},this.firstOfMonth=function(t){return new Date(t.getFullYear(),t.getMonth(),1,0,0,0)},this.lastOfMonth=function(t){return new Date(t.getFullYear(),t.getMonth()+1,0,23,59,59)}}),lApp.addUtil("dateFormat",function(o,t){this.setDate=function(t){return this.date=t,this},this.parseDate=function(t){var i=lApp.newUtil("calendar",{});return this.date=i.parseDate(t),this},this.format=function(t){var i=this.date;return o.format(t,[i.getFullYear(),("0"+(i.getMonth()+1)).slice(-2),("0"+i.getDate()).slice(-2),("0"+i.getHours()).slice(-2),("0"+i.getMinutes()).slice(-2),("0"+i.getSeconds()).slice(-2),o.config.monthNames[i.getMonth()],o.config.monthAbbreviations[i.getMonth()],i.getFullYear().toString().slice(-2)])},this.toSql=function(){return this.format("{0}-{1}-{2}")},this.toYearMonth=function(){return this.format("{0}/{1}")},this.date=void 0!==t.date?t.date:void 0}),lApp.addUtil("googleChart",function(i,t){this.comboChart=function(t){if(t.gAction="comboChart",!this.isValidateData(t))return!1;var o={title:t.gTitle,titleTextStyle:{color:"#004E96",fontSize:16},annotations:{textStyle:{color:"#666666"}},vAxis:{textStyle:{color:"#666666"}},hAxis:{textStyle:{color:"#666666"}},legend:{position:"top",maxLines:1},chartArea:{width:"80%",height:"70%",left:"15%",top:"20%"},seriesType:"bars",series:{2:{type:"line"}}};void 0!==t.gOptions&&i.jQuery.each(t.gOptions,function(t,i){o[t]=i}),new google.visualization.ComboChart(document.getElementById(t.gId)).draw(t.gTable,o)},this.columnChart=function(t){if(t.gAction="columnChart",!this.isValidateData(t))return!1;var o={title:t.gTitle,titleTextStyle:{color:"#004E96",fontSize:16},annotations:{textStyle:{color:"#666666"}},vAxis:{textStyle:{color:"#666666"}},hAxis:{textStyle:{color:"#666666"}},legend:{position:"top",maxLines:1},chartArea:{width:"80%",height:"70%",left:"15%",top:"20%"}};void 0!==t.gOptions&&i.jQuery.each(t.gOptions,function(t,i){o[t]=i}),new google.visualization.ColumnChart(document.getElementById(t.gId)).draw(t.gTable,o)},this.areaChart=function(t){if(t.gAction="areaChart",!this.isValidateData(t))return!1;var o={title:t.gTitle,titleTextStyle:{color:"#004E96",fontSize:16},annotations:{textStyle:{color:"#666666"}},vAxis:{textStyle:{color:"#666666"}},hAxis:{textStyle:{color:"#666666"}},legend:{position:"top",maxLines:1},chartArea:{width:"80%",height:"70%",left:"15%",top:"20%"}};void 0!==t.gOptions&&i.jQuery.each(t.gOptions,function(t,i){o[t]=i}),new google.visualization.AreaChart(document.getElementById(t.gId)).draw(t.gTable,o)},this.lineChart=function(t){if(t.gAction="lineChart",!this.isValidateData(t))return!1;var o={title:t.gTitle,titleTextStyle:{color:"#004E96",fontSize:16},annotations:{textStyle:{color:"#666666"}},hAxis:{textStyle:{color:"#666666"}},vAxis:{textStyle:{color:"#666666"}},legend:{position:"top",maxLines:1},chartArea:{width:"80%",height:"70%",left:"15%",top:"20%"},curveType:"function"};void 0!==t.gOptions&&i.jQuery.each(t.gOptions,function(t,i){o[t]=i}),new google.visualization.LineChart(document.getElementById(t.gId)).draw(t.gTable,o)},this.pieChart=function(t){if(t.gAction="pieChart",!this.isValidateData(t))return!1;var o={title:t.gTitle,titleTextStyle:{color:"#004E96",fontSize:16},annotations:{textStyle:{color:"#666666"}},hAxis:{textStyle:{color:"#666666"}},vAxis:{textStyle:{color:"#666666"}},legend:{position:"right"},chartArea:{width:"80%",height:"70%",left:"15%",top:"20%"},pieHole:.4};void 0!==t.gOptions&&i.jQuery.each(t.gOptions,function(t,i){o[t]=i}),new google.visualization.PieChart(document.getElementById(t.gId)).draw(t.gTable,o)},this.table=function(t){if(t.gAction="table",!this.isValidateData(t))return!1;var o={width:"100%",height:"100%"};void 0!==t.gOptions&&i.jQuery.each(t.gOptions,function(t,i){o[t]=i}),new google.visualization.Table(div).draw(t.gTable,o)},this.isValidateData=function(t){return!!document.getElementById(t.gId)||(i.error(i.format(i.translation.googleChartGIdNotExist,[t.gAction,t.gId])),!1)}}),lApp.addUtil("numberFormat",function(l,t){this.setNumber=function(t){return this.number=t,this},this.format=function(t,i,o,e){null==i&&(i=l.config.decimals),null==o&&(o=l.config.decimalPoint),null==e&&(e=l.config.thousandsSeparator);var n=parseFloat(t),r=n<0?"-":"",a=Math.abs(n).toFixed(i).toString().split("."),s=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,e);return a[0]=r+s,a.join(o)},this.toFloat=function(t){return this.format(this.number,t)},this.toPercentage=function(t){return this.format(100*this.number,t)+"%"},this.toMoney=function(t){return l.config.symbolCurrency+this.format(this.number,t)},this.toNumber=function(t){var i=Math.pow(10,t||0);return Math.round(this.number*i)/i},this.number=void 0!==t.number?t.number:void 0});